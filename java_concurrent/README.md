# 1、进程与线程

## 进程
- 程序由指令和数据组成，但这些指令要运行，数据要读写，就必须将指令加载至 CPU ，数据加载至内存。在指令运行过程中还需要用到磁盘、网络等设备。进程就是用来加载指令、管理内存、管理 IO 的
- 当一个程序被运行，从磁盘加载这个程序的代码至内存，这时就开启了一个进程
- 进程可以试为程序的一个实例。大部分程序可以同时运行多个实例进程（记事本、浏览器），也有程序只能启动一个实例进程（微信）

## 线程
- 一个进程之内可以分为一到多个线程
- 一个线程就是一个指令流，将指令流中的一条条指令以一定的顺序交给 CPU 执行
- Java中，线程作为最小调度单位，进程作为资源分配的最小单位。在Windows中进程是不活动的，只是作为线程的容器

## 对比
- 进程基本上相互独立的，线程存在进程内，是进程的一个子集
- 进程拥有共享的资源，如内存空间等，供其内部的线程共享
- 进程间通信较为复杂
  - 同一台计算机间对的进程通信为 IPC
  - 不同计算机之间进程的通信，需要通过网络，并遵守共同的协议，如：HTTP
- 线程通信相对简单，因为它们共享进程内的内存，多个线程可以访问同一个共享变量
- 线程更轻量，线程上下文切换成本一般比进程上下文切换低

# 2、并发与并行

- 并发：同一时间应对多件事情的能力
- 并行：同一时间动手做多件事情的能力

# 3、查看进程线程

## Windows
- 任务管理器可以查看进程和线程数，也可以杀死进程
- tasklist 查看进程
  ```shell
    # 关键字筛选
    tasklist | findstr java
  ```
- taskkill 杀死进程
  ```shell
    # -f 强制 -pid 指定pid
    taskkill -f -pid 13596
  ```

## Linux
- ps -fe 查看所有进程
- ps -ft -p <pid> 查看某个进程（pid）的所有线程
- kill 杀死进程
- top 按大写H切换是否显示线程
- top -H -p <pid> 查看某个进程（pid）的所有线程

## Java
- jps 命令查看所有 Java 进程
- jstask <pid> 查看某个Java进程（pid）的所有线程状态
- jconsole 查看某个Java进程中线程的运行情况（图形界面）


